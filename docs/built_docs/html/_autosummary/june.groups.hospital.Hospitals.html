
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>june.groups.hospital.Hospitals &#8212; JUNE  documentation</title>
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="june.groups.hospital.ExternalHospital" href="june.groups.hospital.ExternalHospital.html" />
    <link rel="prev" title="june.groups.hospital.Hospital.SubgroupType" href="june.groups.hospital.Hospital.SubgroupType.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>JUNE  documentation</span></a></h1>
        <h2 class="heading"><span>june.groups.hospital.Hospitals</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="june.groups.hospital.Hospital.SubgroupType.html">june.groups.hospital.Hospital.SubgroupType</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="june.groups.hospital.ExternalHospital.html">june.groups.hospital.ExternalHospital</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <div class="section" id="june-groups-hospital-hospitals">
<h1>june.groups.hospital.Hospitals<a class="headerlink" href="#june-groups-hospital-hospitals" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">june.groups.hospital.</code><code class="sig-name descname">Hospitals</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hospitals</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Hospital<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">neighbour_hospitals</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">box_mode</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ball_tree</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span></dt>
<dd><p>Create a group of hospitals, and provide functionality to locate patients
to a nearby hospital. It will check in order the first <code class="docutils literal notranslate"><span class="pre">`neighbour_hospitals`</span></code>,
when one has space available the patient is allocated to it. If none of the closest
ones has beds available it will pick one of them at random and that hospital will
overflow</p>
<dl class="simple">
<dt>hospitals:</dt><dd><p>list of hospitals to aggrupate</p>
</dd>
<dt>neighbour_hospitals:</dt><dd><p>number of closest hospitals to look for</p>
</dd>
<dt>box_mode:</dt><dd><p>whether to run in single box mode, or full simulation</p>
</dd>
</dl>
<dl class="py method">
<dt>
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hospitals</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="june.groups.hospital.html#june.groups.hospital.Hospital" title="june.groups.hospital.Hospital">Hospital</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">neighbour_hospitals</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">box_mode</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ball_tree</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span></dt>
<dd><p>Create a group of hospitals, and provide functionality to locate patients
to a nearby hospital. It will check in order the first <code class="docutils literal notranslate"><span class="pre">`neighbour_hospitals`</span></code>,
when one has space available the patient is allocated to it. If none of the closest
ones has beds available it will pick one of them at random and that hospital will
overflow</p>
<dl class="simple">
<dt>hospitals:</dt><dd><p>list of hospitals to aggrupate</p>
</dd>
<dt>neighbour_hospitals:</dt><dd><p>number of closest hospitals to look for</p>
</dd>
<dt>box_mode:</dt><dd><p>whether to run in single box mode, or full simulation</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">_make_member_ids_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">members</span></em><span class="sig-paren">)</span></dt>
<dd><p>Makes a dictionary with the ids of the members.</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">create_hospital_from_df_row</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">area</span></em>, <em class="sig-param"><span class="n">row</span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">for_box_mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">for_geography</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">geography</span></em>, <em class="sig-param"><span class="n">filename</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">PosixPath('/home/sadie/JUNE/data/input/hospitals/trusts.csv')</span></em>, <em class="sig-param"><span class="n">config_filename</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">PosixPath('/home/sadie/JUNE/configs/defaults/groups/hospitals.yaml')</span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">PosixPath('/home/sadie/JUNE/data/input/hospitals/trusts.csv')</span></em>, <em class="sig-param"><span class="n">config_filename</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">PosixPath('/home/sadie/JUNE/configs/defaults/groups/hospitals.yaml')</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="june.groups.hospital.html#june.groups.hospital.Hospitals" title="june.groups.hospital.Hospitals">june.groups.hospital.Hospitals</a></dt>
<dd><p>Initialize Hospitals from path to data frame, and path to config file.</p>
<dl class="simple">
<dt>filename:</dt><dd><p>path to hospital dataframe</p>
</dd>
<dt>config_filename:</dt><dd><p>path to hospital config dictionary</p>
</dd>
</dl>
<p>Hospitals instance</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">get_closest_hospitals</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coordinates</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">k</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span></dt>
<dd><p>Get the k-th closest hospital to a given coordinate</p>
<dl class="simple">
<dt>coordinates: </dt><dd><p>latitude and longitude</p>
</dd>
<dt>k:</dt><dd><p>k-th neighbour</p>
</dd>
</dl>
<p>ID of the k-th closest hospital</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">get_closest_hospitals_idx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coordinates</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">k</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span></dt>
<dd><p>Get the k-th closest hospital to a given coordinate</p>
<dl class="simple">
<dt>coordinates: </dt><dd><p>latitude and longitude</p>
</dd>
<dt>k:</dt><dd><p>k-th neighbour</p>
</dd>
</dl>
<p>ID of the k-th closest hospital</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">get_from_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">get_spec</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str</dt>
<dd><p>Returns the speciailization of the super group.</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">init_hospitals</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hospital_df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference internal" href="june.groups.hospital.html#june.groups.hospital.Hospital" title="june.groups.hospital.Hospital">june.groups.hospital.Hospital</a><span class="p">]</span></dt>
<dd><p>Create Hospital objects with the right characteristics,
as given by dataframe.</p>
<dl class="simple">
<dt>hospital_df:</dt><dd><p>dataframe with hospital characteristics data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">init_trees</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hospital_coordinates</span><span class="p">:</span> <span class="n">numpy.array</span></em><span class="sig-paren">)</span> &#x2192; sklearn.neighbors._ball_tree.BallTree</dt>
<dd><p>Reads hospital location and sizes, it initializes a KD tree on a sphere,
to query the closest hospital to a given location.</p>
<dl class="simple">
<dt>hospital_df: </dt><dd><p>dataframe with hospital characteristics data</p>
</dd>
</dl>
<p>Tree to query nearby schools</p>
</dd></dl>

<dl class="py method">
<dt>
<em class="property">property </em><code class="sig-name descname">group_spec</code></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<em class="property">property </em><code class="sig-name descname">member_ids</code></dt>
<dd></dd></dl>

</dd></dl>

</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="june.groups.hospital.Hospital.SubgroupType.html">june.groups.hospital.Hospital.SubgroupType</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="june.groups.hospital.ExternalHospital.html">june.groups.hospital.ExternalHospital</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, IDAS-Durham.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>